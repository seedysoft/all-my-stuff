# Dotnet tools Documentation:
https://learn.microsoft.com/en-us/dotnet/core/tools/global-tools

# Entity Framework Core Documentation:
https://learn.microsoft.com/en-us/ef/core/cli/dotnet

# NOTE: On first installation, export variables:
# 
#   Windows (PS>):
[Environment]::SetEnvironmentVariable("SEEDY_MASTER_KEY", "", [System.EnvironmentVariableTarget]::User)
# 
# 
#   Raspberrypi ($>):
sudo nano /etc/environment
# 
#   then paste this:
SEEDY_MASTER_KEY=""

sudo apt-get install -y chromium-chromedriver unzip

# Get OS version info which adds the $ID and $VERSION_ID variables
source /etc/os-release

# Download the Microsoft keys
sudo apt-get install -y gpg wget
wget https://packages.microsoft.com/keys/microsoft.asc
cat microsoft.asc | gpg --dearmor -o microsoft.asc.gpg

# Add the Microsoft repository to the system's sources list
wget https://packages.microsoft.com/config/$ID/$VERSION_ID/prod.list
sudo mv prod.list /etc/apt/sources.list.d/microsoft-prod.list

# Move the key to the appropriate place
sudo mv microsoft.asc.gpg $(cat /etc/apt/sources.list.d/microsoft-prod.list | grep -oP "(?<=signed-by=).*(?=\])")

# Update packages and install .NET
sudo apt-get update
REM does not works sudo apt-get install -y aspnetcore-runtime-8.0 
sudo apt-get install -y aspnetcore-runtime-10.0

# Help commands:
dotnet --list-sdks; dotnet --list-runtimes;

#   ONLY WHEN SDK IS INSTALLED
# 
# Install workloads:
# NOTE: Must be root (sudo su): root@raspberrypi4:/opt/dotnet#
# ./dotnet workload search [<SEARCH_STRING>] [-v|--verbosity <LEVEL>]
# ./dotnet workload search -?|-h|--help
dotnet workload install wasm-tools
dotnet workload update
# Keep .NET 8:
dotnet workload install wasm-tools-net8
# 
# Update Entity Framework global tools:
dotnet tool list   -g
dotnet tool update -g dotnet-ef
# Keep .NET 8:
dotnet tool install dotnet-ef -g --version 8.* --allow-downgrade
# 
#   ONLY WHEN SDK IS INSTALLED

# MudBlazor Templates
dotnet new install MudBlazor.Templates

#   ONLY FOR WINDOWS:
dotnet tool update --global PowerShell
